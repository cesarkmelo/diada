import 'package:diada/classes/question.dart';

class DepresionBrain {
  int _questionNumber = 0;
  List<Question> _questionsList = [
    Question(
      label:
          'Durante los últimos 15 días, ¿con qué frecuencia ha sentido molestias por los siguientes problemas?',
      questionText: 'Poco interés o placer en hacer cosas',
      questionAnswers: [
        Answer(
            label: 'A',
            answerText: 'Para nada',
            answerState: false,
            answerValue: 0),
        Answer(
            label: 'B',
            answerText: 'Varios días',
            answerState: false,
            answerValue: 1),
        Answer(
            label: 'C',
            answerText: 'Más de la mitad de los días',
            answerState: false,
            answerValue: 2),
        Answer(
            label: 'D',
            answerText: 'Casi todos los días',
            answerState: false,
            answerValue: 3),
      ],
    ),
    Question(
      label:
          'Durante los últimos 15 días, ¿con qué frecuencia ha sentido molestias por los siguientes problemas?',
      questionText: 'Sentirse desanimado/a, deprimido/a o sin esperanzas',
      questionAnswers: [
        Answer(
            label: 'A',
            answerText: 'Para nada',
            answerState: false,
            answerValue: 0),
        Answer(
            label: 'B',
            answerText: 'Varios días',
            answerState: false,
            answerValue: 1),
        Answer(
            label: 'C',
            answerText: 'Más de la mitad de los días',
            answerState: false,
            answerValue: 2),
        Answer(
            label: 'D',
            answerText: 'Casi todos los días',
            answerState: false,
            answerValue: 3),
      ],
    ),
    Question(
      label:
          'Durante los últimos 15 días, ¿con qué frecuencia ha sentido molestias por los siguientes problemas?',
      questionText:
          'Problemas para dormir o mantenerse el sueño o dormir demasiado',
      questionAnswers: [
        Answer(
            label: 'A',
            answerText: 'Para nada',
            answerState: false,
            answerValue: 0),
        Answer(
            label: 'B',
            answerText: 'Varios días',
            answerState: false,
            answerValue: 1),
        Answer(
            label: 'C',
            answerText: 'Más de la mitad de los días',
            answerState: false,
            answerValue: 2),
        Answer(
            label: 'D',
            answerText: 'Casi todos los días',
            answerState: false,
            answerValue: 3),
      ],
    ),
    Question(
      label:
          'Durante los últimos 15 días, ¿con qué frecuencia ha sentido molestias por los siguientes problemas?',
      questionText: 'Sentirse cansado/a o con poca energía',
      questionAnswers: [
        Answer(
            label: 'A',
            answerText: 'Para nada',
            answerState: false,
            answerValue: 0),
        Answer(
            label: 'B',
            answerText: 'Varios días',
            answerState: false,
            answerValue: 1),
        Answer(
            label: 'C',
            answerText: 'Más de la mitad de los días',
            answerState: false,
            answerValue: 2),
        Answer(
            label: 'D',
            answerText: 'Casi todos los días',
            answerState: false,
            answerValue: 3),
      ],
    ),
    Question(
      label:
          'Durante los últimos 15 días, ¿con qué frecuencia ha sentido molestias por los siguientes problemas?',
      questionText: 'Sentir poco apetito o comer en exceso',
      questionAnswers: [
        Answer(
            label: 'A',
            answerText: 'Para nada',
            answerState: false,
            answerValue: 0),
        Answer(
            label: 'B',
            answerText: 'Varios días',
            answerState: false,
            answerValue: 1),
        Answer(
            label: 'C',
            answerText: 'Más de la mitad de los días',
            answerState: false,
            answerValue: 2),
        Answer(
            label: 'D',
            answerText: 'Casi todos los días',
            answerState: false,
            answerValue: 3),
      ],
    ),
    Question(
      label:
          'Durante los últimos 15 días, ¿con qué frecuencia ha sentido molestias por los siguientes problemas?',
      questionText:
          'Sentirse mal acerca de sí mismo o tener un sentimiento de fracaso o de abandono propio o de la familia',
      questionAnswers: [
        Answer(
            label: 'A',
            answerText: 'Para nada',
            answerState: false,
            answerValue: 0),
        Answer(
            label: 'B',
            answerText: 'Varios días',
            answerState: false,
            answerValue: 1),
        Answer(
            label: 'C',
            answerText: 'Más de la mitad de los días',
            answerState: false,
            answerValue: 2),
        Answer(
            label: 'D',
            answerText: 'Casi todos los días',
            answerState: false,
            answerValue: 3),
      ],
    ),
    Question(
      label:
          'Durante los últimos 15 días, ¿con qué frecuencia ha sentido molestias por los siguientes problemas?',
      questionText:
          'Dificultad para concentrarse en diferentes actividades tales como leer el periódico o ver televisión',
      questionAnswers: [
        Answer(
            label: 'A',
            answerText: 'Para nada',
            answerState: false,
            answerValue: 0),
        Answer(
            label: 'B',
            answerText: 'Varios días',
            answerState: false,
            answerValue: 1),
        Answer(
            label: 'C',
            answerText: 'Más de la mitad de los días',
            answerState: false,
            answerValue: 2),
        Answer(
            label: 'D',
            answerText: 'Casi todos los días',
            answerState: false,
            answerValue: 3),
      ],
    ),
    Question(
      label:
          'Durante los últimos 15 días, ¿con qué frecuencia ha sentido molestias por los siguientes problemas?',
      questionText:
          'Moverse o hablar tan despacio que otras personas lo han notado o bien, por el contrario, estar tan inquieto/a o intranquilo/a que se mueve mucho más de lo normal',
      questionAnswers: [
        Answer(
            label: 'A',
            answerText: 'Para nada',
            answerState: false,
            answerValue: 0),
        Answer(
            label: 'B',
            answerText: 'Varios días',
            answerState: false,
            answerValue: 1),
        Answer(
            label: 'C',
            answerText: 'Más de la mitad de los días',
            answerState: false,
            answerValue: 2),
        Answer(
            label: 'D',
            answerText: 'Casi todos los días',
            answerState: false,
            answerValue: 3),
      ],
    ),
    Question(
      label:
          'Durante los últimos 15 días, ¿con qué frecuencia ha sentido molestias por los siguientes problemas?',
      questionText:
          'Pensamientos de que usted estaría mejor muerto(a) o de alguna manera lastimándose a usted mismo(a)',
      questionAnswers: [
        Answer(
            label: 'A',
            answerText: 'Para nada',
            answerState: false,
            answerValue: 0),
        Answer(
            label: 'B',
            answerText: 'Varios días',
            answerState: false,
            answerValue: 1),
        Answer(
            label: 'C',
            answerText: 'Más de la mitad de los días',
            answerState: false,
            answerValue: 2),
        Answer(
            label: 'D',
            answerText: 'Casi todos los días',
            answerState: false,
            answerValue: 3),
      ],
    ),
    Question(
      label:
          'Durante los últimos 15 días, ¿con qué frecuencia ha sentido molestias por los siguientes problemas?',
      questionText:
          'Si marcó cualquier problema, ¿Qué grado de dificultad le generaron estos problemas para realizar su trabajo, encargarse de las tareas domésticas o relacionarse con otras personas?',
      questionAnswers: [
        Answer(
            label: 'A',
            answerText: 'No ha sido difícil',
            answerState: false,
            answerValue: 0),
        Answer(
            label: 'B',
            answerText: 'Algo dificil',
            answerState: false,
            answerValue: 1),
        Answer(
            label: 'C',
            answerText: 'Muy difícil',
            answerState: false,
            answerValue: 2),
        Answer(
            label: 'D',
            answerText: 'Extremadamente difícil',
            answerState: false,
            answerValue: 3),
      ],
    ),
  ];

  void nextQuestion() {
    if (_questionNumber < _questionsList.length - 1) {
      _questionNumber++;
    }
  }

  String getQuestionText() {
    return _questionsList[_questionNumber].questionText;
  }

  String? getQuestionLabel() {
    return _questionsList[_questionNumber].label;
  }

  bool hasQuestionLabel() {
    return _questionsList[_questionNumber].label != null ? true : false;
  }

  int getQuestionsLength() {
    return _questionsList.length;
  }

  int getQuestionsIndex() {
    return _questionNumber + 1;
  }

  List<Answer> getQuestionAnswersList() {
    return _questionsList[_questionNumber].questionAnswers;
  }

  bool isFinished() {
    if (_questionNumber == _questionsList.length - 1) {
      print('Estoy al final del examen se debe reiniciar y guardar resultado');
      return true;
    } else {
      return false;
    }
  }

  String getResultPhq9(int value) {
    if (value <= 4) {
      return "Sin síntomas de depresión";
    } else if (value <= 10) {
      return "Síntomas leves de depresión";
    } else if (value <= 15) {
      return "Síntomas moderados de depresión";
    } else if (value <= 20) {
      return "Síntomas moderados a severos de depresión";
    } else {
      return "Síntomas severos de depresión";
    }
  }

  String getRecomendationsPhq9(int value) {
    if (value <= 4) {
      return "Recuerde mantener hábitos de vida saludables para mantener una buena salud mental: Practique actividades de autocuidado, alimentación balanceada y con todos los grupos de alimentos, actividad física diaria y suficiente sueño.";
    } else if (value <= 10) {
      return "Sus síntomas requieren de recuperar hábitos y un estilo de vida saludable para recuperar su bienestar y salud mental.\nSi los síntomas que presenta empeoran considere consultar a su médico.\nRecuerde practicar actividades de autocuidado que sirven para la prevención y el manejo de los síntomas depresivos: actividades de autocuidado (pasatiempos, actividades placenteras, socializar, limitar el consumo de alcohol), alimentación saludable, actividad física diaria y suficiente sueño.";
    } else if (value <= 15) {
      return "Estos síntomas depresivos pueden estar afectando su bienestar y su salud mental.\nRecuperar y desarrollar hábitos de vida le ayudarán a mantener una buena salud mental.\nConsidere consultar a su médico, quien puede realizar un diagnóstico más preciso y brindarle alternativas para ayudarle a reducir sus síntomas.\nRecuerde practicar actividades de autocuidado que sirven para la prevención y el manejo de los síntomas depresivos: autocuidado (pasatiempos, actividades placenteras, socializar, limitar el consumo de alcohol), alimentación saludable, actividad física diaria y suficiente sueño.";
    } else if (value <= 20) {
      return "Sus síntomas de depresión pueden estar afectando su salud y su calidad de vida.\nRecomendamos consultar a su médico, quien puede brindarle alternativas para ayudarle a reducir sus síntomas.\nConsidere practicar hábitos de vida saludable, practicando actividades de autocuidado, alimentación saludable, actividad física diaria, y suficiente sueño.";
    } else {
      return "Sus síntomas de depresión pueden estar afectando su salud y su calidad de vida de una forma significativa.\nRecomendamos consultar a su médico, quien le brindará alternativas para ayudarle a reducir sus síntomas.\nConsidere practicar hábitos de vida saludable, practicando actividades de autocuidado, alimentación saludable, actividad física diaria, y suficiente sueño.";
    }
  }

  void setAnswerValue(question, answer) {
    int questionIndex = question - 1;
    _questionsList[questionIndex].questionAnswers.forEach((element) {
      element.answerState = false;
    });
    _questionsList[questionIndex].questionAnswers[answer].answerState = true;
  }

  int getAnswerValue(question, answer) {
    int questionIndex = question - 1;
    return _questionsList[questionIndex].questionAnswers[answer].answerValue;
  }

  void reset() {
    _questionsList.forEach((question) {
      question.questionAnswers.forEach((element) {
        element.answerState = false;
      });
    });
    _questionNumber = 0;
  }
}
